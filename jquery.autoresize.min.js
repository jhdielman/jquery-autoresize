;(function(e){e.fn.autoResize=function(t){function a(t){var n=e(t).css("max-width");if(e(t).css("overflow")!="hidden"){e(t).css({overflow:"hidden"})}if(n=="none"){e(t).css({"max-width":f(r.maxWidth)})}else{e(t).css({"max-width":f(n)})}}function f(e){return c(e)&&parseFloat(e)<=100?e:"100%"}function l(t,n){var s=0,o=0,u=0,a=h(r.leadingRows),f=e(t).val().replace(/\n/g,"<br>"),l=f+a;i.css(p(e(t)));o=i.html("A").height();s=(n+r.leadingRows)*o;i.html(l);u=i.height();if(u>s){e(t).height(u)}else{e(t).height(s)}}function c(e){return e.charAt(e.length-1)=="%"}function h(e){var t="";for(var n=0,r=e;n<r;n++){t+="<br>."}return t}function p(e){var t={},n=["font-family","font-size","font-weight","line-height","padding","width"];for(var r=0,i=n.length;r<i;r++){t[n[r]]=e.css(n[r])}return t}var n={appendToElement:"body",defaultRowCount:2,events:"blur focus keyup mouseup",leadingRows:0,maxWidth:"95%"},r=e.extend(n,t),i=e("<span></span>").css({display:"block",position:"absolute",visibility:"hidden","word-wrap":"break-word"}).attr("id","text_clone").appendTo(r.appendToElement),s=this.length-1,o=[],u=[];return this.each(function(t){var n=this,i=parseInt(e(n).attr("rows")||r.defaultRowCount);a(n);e(n).off(r.events).on(r.events,function(){l(n,i)});o.push(n);u.push(i);if(t==s){e(window).on("resize",function(){for(var e=0;e<=s;e++){l(o[e],u[e])}})}l(n,i)})}})(jQuery)