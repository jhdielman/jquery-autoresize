;(function(b){b.fn.autoResize=function(n){function j(g,d){for(var a=0,c=a=0,a="",c=0,f=e.leadingRows;c<f;c++)a+="<br>.";c=b(g).val().replace(/\n/g,"<br>")+a;h.css(p(b(g)));a=h.html("A").height();a*=d+e.leadingRows;h.html(c);c=h.height();c>a?b(g).height(c):b(g).height(a)}function p(b){for(var d={},a="font-family font-size font-weight line-height padding width".split(" "),c=0,e=a.length;c<e;c++)d[a[c]]=b.css(a[c]);return d}var e=b.extend({appendToElement:"body",defaultRowCount:2,events:"blur focus keyup",
leadingRows:0,maxWidth:"95%"},n),h=b("<span></span>").css({display:"block",position:"absolute",visibility:"hidden","word-wrap":"break-word"}).attr("id","text_clone").appendTo(e.appendToElement),k=this.length-1,l=[],m=[];return this.each(function(g){var d=this,a=parseInt(b(d).attr("rows")||e.defaultRowCount),c=e.events+" mouseup",f=b(d).css("max-width");"hidden"!=b(d).css("overflow")&&b(d).css({overflow:"hidden"});"none"==f?b(d).css({"max-width":"%"==e.maxWidth.charAt(e.maxWidth.length-1)&&100>=parseFloat(e.maxWidth)?
e.maxWidth:"100%"}):b(d).css({"max-width":"%"==f.charAt(f.length-1)&&100>=parseFloat(f)?f:"100%"});b(d).off(c).on(c,function(){j(d,a)});l.push(d);m.push(a);if(g==k)b(window).off("resize").on("resize",function(){for(var a=0;a<k;a++)j(l[a],m[a])});j(d,a)})}})(jQuery);